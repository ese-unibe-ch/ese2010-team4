#{extends 'main.html' /}
#{set title:'show profile' /}

#{secure.check 'user'}

<div id="userProfile">
	<div id="userImg">
    	<img src="${userToShow.avatarPath}"/>
	</div>
	
	<h3>You are on ${userToShow.username}'s profile
	#{if !user.isFollowing(userToShow)}
		<a href="@{Users.followUser(userToShow.id)}">&{'follow'}</a>
	#{/if}
	#{else}
		<a href="@{Users.unfollowUser(userToShow.id)}">&{'unfollow'}</a>
	#{/else}
	</h3>
	
	<div>
		<label for="author">&{'username'}: </label>
   	 	<div class="userInfo"> 
    		${userToShow.username}
		</div>		
		
		<label for="author">&{'email'}: </label>
		<div class="userInfo">
			${userToShow.email}
   		</div>
   		
   		<label for="author">&{'fullname'}: </label>
   	 	<div class="userInfo"> 
    		${userToShow.fullname}
		</div>		
   	
   		<label for="author">&{'birthday'}: </label>
   		<div class="userInfo">
			${userToShow.getBirthday()}
    	</div>
    	
    	<label for="author">&{'age'}: </label>
    	<div class="userInfo">
    		${userToShow.calculateAge()}
		</div>
		
		<label for="author">&{'website'}: </label>
		<div class="userInfo">
			${userToShow.website}
		</div>
		
		<label for="author">&{'work'}: </label>
    	<div class="userInfo">	
			${userToShow.work}	
   	 	</div>
   	 	
		<label for="author">&{'programmingLanguages'}: </label>
		<div class="userInfo">
			${userToShow.favoriteLanguages}
		</div>
		
		<label for="aboutMe">&{'about'}: </label>
		<div class="userInfo">
			${userToShow.aboutMe}
		</div>
	</div>
	
	<h3>&{'activities'}</h3>
			#{list items:activities, as:'activity'}
				<div class="activity">
						#{activity activity:activity /}
				</div>
     #{/list}
     
    	<h3>&{'repGraph'}</h3>

	<div id="graph">
		<div id="graphcanvas" style="width:600px;height:300px"></div>
	</div>

<script id="source" language="javascript" type="text/javascript">
$(function () {
    var d1 = [];
	
	d1.push([${userToShow.getReputationPoint(0).timestamp}, ${userToShow.getReputationPoint(0).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(1).timestamp}, ${userToShow.getReputationPoint(1).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(2).timestamp}, ${userToShow.getReputationPoint(2).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(3).timestamp}, ${userToShow.getReputationPoint(3).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(4).timestamp}, ${userToShow.getReputationPoint(4).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(5).timestamp}, ${userToShow.getReputationPoint(5).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(6).timestamp}, ${userToShow.getReputationPoint(6).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(7).timestamp}, ${userToShow.getReputationPoint(7).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(8).timestamp}, ${userToShow.getReputationPoint(8).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(9).timestamp}, ${userToShow.getReputationPoint(9).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(10).timestamp}, ${userToShow.getReputationPoint(10).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(11).timestamp}, ${userToShow.getReputationPoint(11).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(12).timestamp}, ${userToShow.getReputationPoint(12).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(13).timestamp}, ${userToShow.getReputationPoint(13).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(14).timestamp}, ${userToShow.getReputationPoint(14).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(15).timestamp}, ${userToShow.getReputationPoint(15).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(16).timestamp}, ${userToShow.getReputationPoint(16).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(17).timestamp}, ${userToShow.getReputationPoint(17).repvalue}]);
   	d1.push([${userToShow.getReputationPoint(18).timestamp}, ${userToShow.getReputationPoint(18).repvalue}]);
    d1.push([${userToShow.getReputationPoint(19).timestamp}, ${userToShow.getReputationPoint(19).repvalue}]);
    d1.push([${userToShow.getReputationPoint(20).timestamp}, ${userToShow.getReputationPoint(20).repvalue}]);
    d1.push([${userToShow.getReputationPoint(21).timestamp}, ${userToShow.getReputationPoint(21).repvalue}]);
    d1.push([${userToShow.getReputationPoint(22).timestamp}, ${userToShow.getReputationPoint(22).repvalue}]);
    d1.push([${userToShow.getReputationPoint(23).timestamp}, ${userToShow.getReputationPoint(23).repvalue}]);
    d1.push([${userToShow.getReputationPoint(24).timestamp}, ${userToShow.getReputationPoint(24).repvalue}]);
    d1.push([${userToShow.getReputationPoint(25).timestamp}, ${userToShow.getReputationPoint(25).repvalue}]);
    d1.push([${userToShow.getReputationPoint(26).timestamp}, ${userToShow.getReputationPoint(26).repvalue}]);
    d1.push([${userToShow.getReputationPoint(27).timestamp}, ${userToShow.getReputationPoint(27).repvalue}]);
    d1.push([${userToShow.getReputationPoint(28).timestamp}, ${userToShow.getReputationPoint(28).repvalue}]);
    d1.push([${userToShow.getReputationPoint(29).timestamp}, ${userToShow.getReputationPoint(29).repvalue}]);
    d1.push([${userToShow.getReputationPoint(30).timestamp}, ${userToShow.getReputationPoint(30).repvalue}]);
    d1.push([${userToShow.getReputationPoint(31).timestamp}, ${userToShow.getReputationPoint(31).repvalue}]);
    
    $.plot($("#graphcanvas"), [ d1]);
});
</script>
</div>
#{/ secure.check}
